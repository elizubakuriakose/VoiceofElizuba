<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<title>Blog</title>
<link rel='stylesheet' href='style.css'>
<script src='script.js'></script>

<style>
/* Background image */
body {
    background: url('viewblogbg.png') no-repeat center center fixed;
    background-size: cover;
}

/* Card styling */
.card {
    background: rgba(255, 255, 255, 0.9);
    padding: 20px;
    width: 80%;
    max-width: 800px;
    margin: 30px auto;
    border-radius: 12px;
    box-shadow: 0 0 10px #0003;

    /* Make content fit automatically */
    overflow: visible;
    word-wrap: break-word;
    white-space: pre-wrap; /* preserves lines & expands with content */
}
</style>

</head>
<body>

<div class='card' id='blog-container'></div>

<div class='card'>
    <h3>Leave a Comment</h3>
    <textarea id='commentText' style='width:100%;height:80px;'></textarea>
    <button class='btn' onclick='submitComment()'>Submit</button>
</div>

<script>
const blogs = getBlogs(),
      p = new URLSearchParams(location.search),
      id = p.get("id"),
      b = blogs[id];

document.getElementById("blog-container").innerHTML = `
    <h2>${b.title}</h2>
    <p>${b.content.replace(/\n/g, "<br>")}</p>
`;

function submitComment() {
    let t = document.getElementById("commentText").value;
    if (t.trim() === "") return;

    saveComment({ blogTitle: b.title, comment: t });
    alert("Comment submitted!");
    document.getElementById("commentText").value = "";
}
</script>

</body>
</html>
